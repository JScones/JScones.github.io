(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c,r=n(1),s=n(13),i=n.n(s),a=n(5),o=n(10),d=n.n(o),u=n(14),l=n(7),j=(n(25),n(26),n(15)),m=n.n(j),b=(n(27),n(28),n(0)),f=function(e){return Object(b.jsx)("div",{className:"scroll-container",children:e.children})},h=function(e){return Object(b.jsx)(f,{children:Object(b.jsx)("div",{className:"milestones-container",children:e.children})})},O=function(e){return Object(b.jsxs)("div",{className:"milestone",children:[Object(b.jsx)("p",{children:e.milestone.title}),Object(b.jsx)("h4",{children:Object(b.jsx)(m.a,{date:e.milestone.due,fromNow:!0})})]})},x=(n(30),function(e){return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:e.title}),e.children]})}),p=function(e){return Object(b.jsx)("div",Object(a.a)({className:"card-container"},e))},y=(n(31),function(e){return Object(b.jsx)("div",{className:"todo",children:e.children})}),v=function(e){var t=[];return Object(b.jsx)(x,{title:e.title,children:(e.items.length<5?t=e.items.map((function(e){return Object(b.jsx)(y,{children:e},e)})):e.items.length>=5&&(t=e.items.slice(0,3).map((function(e){return Object(b.jsx)(y,{children:e},e)}))).push(Object(b.jsx)(y,{children:"+ ".concat(e.items.length-3," more items...")},"last one")),t)})},g=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)(p,{children:e.cards.map((function(e){return e.items&&e.items.length>0?Object(b.jsx)(v,{title:e.title,items:e.items},e.cardId):null}))})]})},k=n(50),S=n(51),w=n(52);n(32);!function(e){e[e.future=0]="future",e[e.done=1]="done",e[e.skip=2]="skip",e[e.rest=3]="rest"}(c||(c={}));var C,N={gymWeekDays:[{id:0,state:c.done},{id:1,state:c.skip},{id:2,state:c.done},{id:3,state:c.rest},{id:4,state:c.future},{id:5,state:c.future},{id:6,state:c.future}],gymPercent:50},T={gymWeekDays:[{id:0,state:c.done},{id:1,state:c.skip},{id:2,state:c.done},{id:3,state:c.rest},{id:4,state:c.done},{id:5,state:c.future},{id:6,state:c.future}],gymPercent:65};!function(e){e[e.dev=0]="dev",e[e.prod=1]="prod"}(C||(C={}));var I,W,D=C.prod,E=D===C.prod?"https://us-central1-dashboard-8d69a.cloudfunctions.net":"/".concat("dashboard-8d69a/us-central1");!function(e){e.COUNTDOWNS="/countdowns",e.MILESTONES="/milestones",e.BOARDS="/boards",e.GYM="/gym",e.GYM_WEEK="/gym/week"}(I||(I={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(W||(W={}));var P={postJson:function(e,t){var n={method:W.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,n).then((function(e){return e.json()}))}},G={getGymWeekDays:function(){if(D===C.dev)return Promise.resolve(N);var e="".concat(E).concat(I.GYM),t={method:W.GET};return fetch(e,t).then((function(e){return e.json()})).then((function(e){return{gymWeekDays:e,gymPercent:50}}))},updateGymWeekDays:function(e){if(D===C.dev)return Promise.resolve(T);var t="".concat(E).concat(I.GYM_WEEK);return P.postJson(t,e).then((function(e){return{gymWeekDays:e,gymPercent:50}}))},getNextGymState:function(e){switch(e){case c.done:return c.skip;case c.skip:return c.rest;case c.rest:return c.future;case c.future:return c.done}}},M=function(e){return Object(b.jsx)("div",{className:"gym-cell",onClick:e.onClick,children:e.children})},A=function(){return Object(b.jsx)("p",{className:"gym-tick",children:Object(b.jsx)(k.a,{})})},B=function(){return Object(b.jsx)("p",{className:"gym-cross",children:Object(b.jsx)(S.a,{})})},Z=function(){return Object(b.jsx)("p",{className:"gym-skip",children:Object(b.jsx)(w.a,{})})},J=function(e){switch(e.done){case c.done:return Object(b.jsx)(A,{});case c.skip:return Object(b.jsx)(B,{});case c.rest:return Object(b.jsx)(Z,{});default:return null}};function L(e,t){var n=G.getNextGymState(e.state);t(Object(a.a)(Object(a.a)({},e),{},{state:n}))}var F=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],R=function(e){return Object(b.jsx)(f,{children:Object(b.jsxs)("div",{className:"gym",children:[Object(b.jsx)("div",{className:"gym-cells",children:e.days.map((function(t,n){return Object(b.jsxs)(M,{onClick:L.bind(undefined,t,e.updateDays),children:[Object(b.jsx)("p",{children:F[n]}),Object(b.jsx)(J,{done:t.state})]},t.id)}))}),Object(b.jsxs)("p",{children:[e.attendance,"% this month."]})]})})},Y=(n(37),function(){var e=Object(r.useState)("Loading..."),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){c("Prod")}),[]),Object(b.jsx)("div",{className:"quote",children:Object(b.jsx)("blockquote",{children:n})})}),U=[{countdownId:0,title:"Christmas",date:"2022-12-25T10:00:00.000Z"},{countdownId:1,title:"Something",date:"2022-04-19T19:00:00.000Z"},{countdownId:2,title:"Another",date:"2022-07-19T19:00:00.000Z"}],q={getCountdowns:function(){return Promise.resolve(U)}},H=[{milestoneId:0,title:"Finish dashboard",due:"2021-10-05T10:55:00.000Z"},{milestoneId:1,title:"Write API",due:"2021-10-10T10:55:00.000Z"},{milestoneId:2,title:"Persist state",due:"2021-10-15T10:55:00.000Z"}],K={getMilestones:function(){return Promise.resolve(H)}},_=[{boardId:0,title:"To Do",cards:[{cardId:0,title:"COSC401",items:["Assignment 2"]},{cardId:1,title:"COSC422",items:["Assignment 2","Labs"]},{cardId:2,title:"COSC424",items:["Write up lab 6","Write up lab 7","Write up lab 8","Write up lab 9","Assignment 2"]},{cardId:3,title:"SENG402",items:[]}]},{boardId:1,title:"Doing",cards:[{cardId:0,title:"COSC401",items:[]},{cardId:1,title:"COSC422",items:[]},{cardId:2,title:"COSC424",items:[]},{cardId:3,title:"SENG402",items:["Final Report","Poster"]}]}],$={getBoards:function(){if(D===C.dev)return Promise.resolve(_);var e="".concat(E).concat(I.BOARDS),t={method:W.GET};return fetch(e,t).then((function(e){return e.json()}))}},z=n(6),Q=n.n(z);var V=function(e){var t=Object(r.useMemo)((function(){return t=e.date,Q()(t).diff(Q()(),"days");var t}),[e.date]),n=Object(r.useMemo)((function(){return t=e.date,Q()(t).diff(Q()(),"weeks");var t}),[e.date]),c=Object(r.useMemo)((function(){return t=e.date,Q()(t).diff(Q()(),"months");var t}),[e.date]),s=t<=30,i=n<=30;return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:e.title}),Object(b.jsx)("h4",{children:s?"".concat("\u2600\ufe0f".repeat(t)," ").concat(t," days"):i?"".concat("\ud83c\udf15".repeat(n)," ").concat(n," weeks"):"".concat("\ud83c\udf0e".repeat(c)," ").concat(c," months")})]})},X=(new Date).toISOString(),ee=function(e){return Object(b.jsx)("div",{children:e.countdowns.filter((function(e){return e.date.localeCompare(X)>=0})).sort((function(e,t){return e.date.localeCompare(t.date)})).map((function(e){return Object(b.jsx)(V,{title:e.title,date:e.date},e.countdownId)}))})},te=n(53),ne=n(17);function ce(){alert("board?")}var re=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(l.a)(s,2),o=i[0],j=i[1],m=Object(r.useState)({gymWeekDays:[],gymPercent:0}),f=Object(l.a)(m,2),x=f[0],p=f[1],y=Object(r.useState)([]),v=Object(l.a)(y,2),k=v[0],S=v[1],w=Object(r.useRef)(Object(ne.debounce)(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,G.updateGymWeekDays(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3)).current;return Object(r.useEffect)((function(){return function(){w.cancel()}}),[w]),Object(r.useEffect)((function(){K.getMilestones().then((function(e){c(e)})),$.getBoards().then((function(e){j(e)})),G.getGymWeekDays().then((function(e){p(e)})),q.getCountdowns().then((function(e){S(e)}))}),[]),Object(b.jsxs)("div",{className:"App","data-theme":"dark",children:[Object(b.jsxs)("div",{className:"boards",children:[o.map((function(e){return e.cards.length>0?Object(b.jsx)(g,{title:e.title,cards:e.cards},e.boardId):null})),Object(b.jsx)("button",{className:"boards-add",onClick:ce,children:Object(b.jsx)(te.a,{})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Milestones"}),Object(b.jsx)(h,{children:n.sort((function(e,t){return e.due.localeCompare(t.due)})).map((function(e){return Object(b.jsx)(O,{milestone:e},e.milestoneId)}))})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Gym"}),Object(b.jsx)(R,{days:x.gymWeekDays,attendance:x.gymPercent,updateDays:function(e){return function(e){var t=x.gymWeekDays.map((function(t){return t.id===e.id?e:t}));p(Object(a.a)(Object(a.a)({},x),{},{gymWeekDays:t})),w(t)}(e)}})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(ee,{countdowns:k}),Object(b.jsx)("hr",{}),Object(b.jsx)(Y,{})]})};n(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(b.jsx)(re,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.ffc09876.chunk.js.map