(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c,r=n(1),s=n(13),i=n.n(s),a=n(5),o=n(10),d=n.n(o),u=n(14),l=n(7),j=(n(25),n(26),n(15)),m=n.n(j),f=(n(27),n(0)),h=function(e){return Object(f.jsx)("div",{className:"milestones-container",children:e.children})},b=function(e){return Object(f.jsxs)("div",{className:"milestone",children:[Object(f.jsx)("p",{children:e.milestone.title}),Object(f.jsx)("h4",{children:Object(f.jsx)(m.a,{date:e.milestone.due,fromNow:!0})})]})},O=(n(29),function(e){return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h3",{children:e.title}),e.children]})}),p=function(e){return Object(f.jsx)("div",Object(a.a)({className:"card-container"},e))},x=(n(30),function(e){return Object(f.jsx)("div",{className:"todo",children:e.children})}),v=function(e){var t=[];return Object(f.jsx)(O,{title:e.title,children:(e.items.length<5?t=e.items.map((function(e){return Object(f.jsx)(x,{children:e},e)})):e.items.length>=5&&(t=e.items.slice(0,3).map((function(e){return Object(f.jsx)(x,{children:e},e)}))).push(Object(f.jsx)(x,{children:"+ ".concat(e.items.length-3," more items...")},"last one")),t)})},y=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsx)(p,{children:e.cards.map((function(e){return e.items&&e.items.length>0?Object(f.jsx)(v,{title:e.title,items:e.items},e.cardId):null}))})]})},g=n(49),k=n(50),S=n(51);n(31);!function(e){e[e.future=0]="future",e[e.done=1]="done",e[e.skip=2]="skip",e[e.rest=3]="rest"}(c||(c={}));var T,C={gymWeekDays:[{id:0,state:c.done},{id:1,state:c.skip},{id:2,state:c.done},{id:3,state:c.rest},{id:4,state:c.future},{id:5,state:c.future},{id:6,state:c.future}],gymPercent:50},N={gymWeekDays:[{id:0,state:c.done},{id:1,state:c.skip},{id:2,state:c.done},{id:3,state:c.rest},{id:4,state:c.done},{id:5,state:c.future},{id:6,state:c.future}],gymPercent:65};!function(e){e[e.dev=0]="dev",e[e.prod=1]="prod"}(T||(T={}));var w,E,I=T.prod,W=I===T.prod?"https://us-central1-dashboard-8d69a.cloudfunctions.net":"/".concat("dashboard-8d69a/us-central1");!function(e){e.COUNTDOWNS="/countdowns",e.MILESTONES="/milestones",e.BOARDS="/boards",e.GYM="/gym",e.GYM_WEEK="/gym/week"}(w||(w={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(E||(E={}));var D={postJson:function(e,t){var n={method:E.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,n).then((function(e){return e.json()}))}},P={getGymWeekDays:function(){if(I===T.dev)return Promise.resolve(C);var e="".concat(W).concat(w.GYM),t={method:E.GET};return fetch(e,t).then((function(e){return e.json()})).then((function(e){return{gymWeekDays:e,gymPercent:50}}))},updateGymWeekDays:function(e){if(I===T.dev)return Promise.resolve(N);var t="".concat(W).concat(w.GYM_WEEK);return D.postJson(t,e).then((function(e){return{gymWeekDays:e,gymPercent:50}}))},getNextGymState:function(e){switch(e){case c.done:return c.skip;case c.skip:return c.rest;case c.rest:return c.future;case c.future:return c.done}}},G=function(e){return Object(f.jsx)("div",{className:"gym-cell",onClick:e.onClick,children:e.children})},M=function(){return Object(f.jsx)("p",{className:"gym-tick",children:Object(f.jsx)(g.a,{})})},A=function(){return Object(f.jsx)("p",{className:"gym-cross",children:Object(f.jsx)(k.a,{})})},B=function(){return Object(f.jsx)("p",{className:"gym-skip",children:Object(f.jsx)(S.a,{})})},L=function(e){switch(e.done){case c.done:return Object(f.jsx)(M,{});case c.skip:return Object(f.jsx)(A,{});case c.rest:return Object(f.jsx)(B,{});default:return null}};function Z(e,t){var n=P.getNextGymState(e.state);t(Object(a.a)(Object(a.a)({},e),{},{state:n}))}var J=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],F=function(e){return Object(f.jsxs)("div",{className:"gym",children:[Object(f.jsx)("div",{className:"gym-cells",children:e.days.map((function(t,n){return Object(f.jsxs)(G,{onClick:Z.bind(undefined,t,e.updateDays),children:[Object(f.jsx)("p",{children:J[n]}),Object(f.jsx)(L,{done:t.state})]},t.id)}))}),Object(f.jsxs)("p",{children:[e.attendance,"% this month."]})]})},R=(n(36),function(){var e=Object(r.useState)("Loading..."),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){c("Prod")}),[]),Object(f.jsx)("div",{className:"quote",children:Object(f.jsx)("blockquote",{children:n})})}),U=[{countdownId:0,title:"Christmas",date:"2022-12-25T10:00:00.000Z"},{countdownId:1,title:"Something",date:"2022-04-19T19:00:00.000Z"},{countdownId:2,title:"Another",date:"2022-07-19T19:00:00.000Z"}],Y={getCountdowns:function(){if(I===T.prod)return Promise.resolve(U);var e="".concat(W).concat(w.COUNTDOWNS),t={method:E.GET};return fetch(e,t).then((function(e){return e.json()}))}},q=[{milestoneId:0,title:"Finish dashboard",due:"2021-10-05T10:55:00.000Z"},{milestoneId:1,title:"Write API",due:"2021-10-10T10:55:00.000Z"},{milestoneId:2,title:"Persist state",due:"2021-10-15T10:55:00.000Z"}],H={getMilestones:function(){if(I===T.prod)return Promise.resolve(q);var e="".concat(W).concat(w.MILESTONES),t={method:E.GET};return fetch(e,t).then((function(e){return e.json()}))}},K=[{boardId:0,title:"To Do",cards:[{cardId:0,title:"COSC401",items:["Assignment 2"]},{cardId:1,title:"COSC422",items:["Assignment 2","Labs"]},{cardId:2,title:"COSC424",items:["Write up lab 6","Write up lab 7","Write up lab 8","Write up lab 9","Assignment 2"]},{cardId:3,title:"SENG402",items:[]}]},{boardId:1,title:"Doing",cards:[{cardId:0,title:"COSC401",items:[]},{cardId:1,title:"COSC422",items:[]},{cardId:2,title:"COSC424",items:[]},{cardId:3,title:"SENG402",items:["Final Report","Poster"]}]}],_={getBoards:function(){if(I===T.dev)return Promise.resolve(K);var e="".concat(W).concat(w.BOARDS),t={method:E.GET};return fetch(e,t).then((function(e){return e.json()}))}},$=n(6),z=n.n($);var Q=function(e){var t=Object(r.useMemo)((function(){return t=e.date,z()(t).diff(z()(),"days");var t}),[e.date]),n=Object(r.useMemo)((function(){return t=e.date,z()(t).diff(z()(),"weeks");var t}),[e.date]),c=Object(r.useMemo)((function(){return t=e.date,z()(t).diff(z()(),"months");var t}),[e.date]),s=t<=30,i=n<=30;return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:e.title}),Object(f.jsx)("h4",{children:s?"".concat("\u2600\ufe0f".repeat(t)," ").concat(t," days"):i?"".concat("\ud83c\udf15".repeat(n)," ").concat(n," weeks"):"".concat("\ud83c\udf0e".repeat(c)," ").concat(c," months")})]})},V=(new Date).toISOString(),X=function(e){return Object(f.jsx)("div",{children:e.countdowns.filter((function(e){return e.date.localeCompare(V)>=0})).sort((function(e,t){return e.date.localeCompare(t.date)})).map((function(e){return Object(f.jsx)(Q,{title:e.title,date:e.date},e.countdownId)}))})},ee=n(52),te=n(17);function ne(){alert("board?")}var ce=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(l.a)(s,2),o=i[0],j=i[1],m=Object(r.useState)({gymWeekDays:[],gymPercent:0}),O=Object(l.a)(m,2),p=O[0],x=O[1],v=Object(r.useState)([]),g=Object(l.a)(v,2),k=g[0],S=g[1],T=Object(r.useRef)(Object(te.debounce)(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,P.updateGymWeekDays(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3)).current;return Object(r.useEffect)((function(){return function(){T.cancel()}}),[T]),Object(r.useEffect)((function(){H.getMilestones().then((function(e){c(e)})),_.getBoards().then((function(e){j(e)})),P.getGymWeekDays().then((function(e){x(e)})),Y.getCountdowns().then((function(e){S(e)}))}),[]),Object(f.jsxs)("div",{className:"App","data-theme":"dark",children:[Object(f.jsxs)("div",{className:"boards",children:[o.map((function(e){return e.cards.length>0?Object(f.jsx)(y,{title:e.title,cards:e.cards},e.boardId):null})),Object(f.jsx)("button",{className:"boards-add",onClick:ne,children:Object(f.jsx)(ee.a,{})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Milestones"}),Object(f.jsx)(h,{children:n.sort((function(e,t){return e.due.localeCompare(t.due)})).map((function(e){return Object(f.jsx)(b,{milestone:e},e.milestoneId)}))})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Gym"}),Object(f.jsx)(F,{days:p.gymWeekDays,attendance:p.gymPercent,updateDays:function(e){return function(e){var t=p.gymWeekDays.map((function(t){return t.id===e.id?e:t}));x(Object(a.a)(Object(a.a)({},p),{},{gymWeekDays:t})),T(t)}(e)}})]}),Object(f.jsx)("hr",{}),Object(f.jsx)(X,{countdowns:k}),Object(f.jsx)("hr",{}),Object(f.jsx)(R,{})]})};n(38),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(ce,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.90de91ce.chunk.js.map