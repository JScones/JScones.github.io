"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4763],{4763:(j,v,i)=>{i.r(v),i.d(v,{DcCableSelectionModule:()=>L});var d=i(6895),s=i(433),n=i(4633),D=i(5575),T=i(4466),p=i(1862),h=i(655),b=i(4814),g=i(6645);class m{constructor(l,o,a,r,f){this.loadCurrent=l,this.length=o,this.voltageDropPercent=a,this.voltage=r,this.coreMaterial=f}static fromQuery(l){return function P(t){return!!("loadCurrent"in t&&"length"in t&&"voltageDropPercent"in t&&"voltage"in t&&"coreMaterial"in t&&(0,g.hj)(t.loadCurrent)&&(0,g.hj)(t.length)&&(0,g.hj)(t.voltageDropPercent)&&(0,g.hj)(t.voltage))&&b.dY.includes(t.coreMaterial)}(l)?new m(parseFloat(l.loadCurrent),parseFloat(l.length),parseFloat(l.voltageDropPercent),parseFloat(l.voltage),l.coreMaterial):null}}var e=i(8256),C=i(3793),_=i(5971),Z=i(2802),A=i(9098),S=i(8424);function M(t,l){if(1&t&&(e.TgZ(0,"ion-col"),e._UZ(1,"app-cable-table",7),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("cables",o.fixedResults)("supplyVoltage",o.model.voltage)("loadCurrent",o.model.loadCurrent)("routeLength",o.model.length)("installationCondition",-1)}}function U(t,l){if(1&t&&(e.TgZ(0,"ion-col"),e._UZ(1,"app-cable-table",8),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("cables",o.flexResults)("supplyVoltage",o.model.voltage)("loadCurrent",o.model.loadCurrent)("routeLength",o.model.length)("installationCondition",-1)}}function I(t,l){if(1&t&&(e.TgZ(0,"ion-row"),e.YNc(1,M,2,5,"ion-col",6),e.YNc(2,U,2,5,"ion-col",6),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.fixedResults.length),e.xp6(1),e.Q6J("ngIf",o.flexResults.length)}}function J(t,l){1&t&&(e.TgZ(0,"ion-row")(1,"ion-col"),e._UZ(2,"app-no-results-card"),e.qZA()())}let O=(()=>{class t{constructor(o,a,r,f,q){this.route=o,this.alertController=a,this.navController=r,this.databaseService=f,this.cableCalc=q,this.fixedResults=[],this.flexResults=[],this.loading=!0}get hasResults(){return this.fixedResults.length&&this.flexResults.length}ngOnInit(){const o=m.fromQuery(this.route.snapshot.queryParams);o?(this.model=o,this.loading=!0,this.search().catch(console.error).finally(()=>{this.loading=!1})):this.handleNoModel().catch(console.error)}call(){window.open("tel:09 264 1000")}search(){return(0,h.mG)(this,void 0,void 0,function*(){const o=this.cableCalc.calcDcResistance(this.model.voltage,this.model.voltageDropPercent,this.model.length,this.model.loadCurrent);let a=yield this.databaseService.getDcPossibleCables(this.model.coreMaterial,o,2);a.filter(r=>!!r.Resistance).forEach(r=>{r.ActualVoltageDrop=2*this.model.length*this.model.loadCurrent*r.Resistance/1e3,r.VoltageDropPercent=r.ActualVoltageDrop/this.model.voltage}),this.flexResults=a.filter(r=>"Flex"==r.SolidFlex),this.fixedResults=a.filter(r=>"Solid"==r.SolidFlex)})}handleNoModel(){return(0,h.mG)(this,void 0,void 0,function*(){const o=yield this.alertController.create({header:"Something went wrong",subHeader:"Failed to read cable selection form data. Please try again..."});yield o.present(),setTimeout(()=>{o.dismiss(),this.navController.navigateBack("/cable-selection")},3e3)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.gz),e.Y36(n.Br),e.Y36(n.SH),e.Y36(C.k9),e.Y36(C.i9))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dc-cable-selection-results"]],decls:55,vars:17,consts:[["defaultHref","dc-cable-selection"],[1,"ion-text-center"],["color","light",1,"summary-card","m-h-0"],["size","12","size-md","6",1,"right-border"],["size","12","size-md","6"],["loadingText","Searching...",3,"loading"],[4,"ngIf"],["label","Fixed Conductors \u2013 Fixed Under Load",3,"cables","supplyVoltage","loadCurrent","routeLength","installationCondition"],["label","Flexible Conductors \u2013 Fixed Under Load",3,"cables","supplyVoltage","loadCurrent","routeLength","installationCondition"]],template:function(o,a){1&o&&(e.TgZ(0,"app-page-header",0),e._uU(1,"Results"),e.qZA(),e.TgZ(2,"ion-content")(3,"ion-grid")(4,"ion-row")(5,"ion-col",1)(6,"ion-card",2)(7,"ion-card-content",1)(8,"ion-grid")(9,"ion-row")(10,"ion-col",3)(11,"table")(12,"tr")(13,"td"),e._uU(14,"Supply Voltage:"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td"),e._uU(19,"Load Current:"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.ALo(22,"number"),e.qZA()(),e.TgZ(23,"tr")(24,"td"),e._uU(25,"Total Length:"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.ALo(28,"number"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31,"Conductor:"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA()()()(),e.TgZ(34,"ion-col",4)(35,"table")(36,"tr")(37,"td"),e._uU(38,"Volt Drop:"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"td"),e._uU(43,"Volt Drop:"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.ALo(46,"number"),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49,"Ambient Temperature:"),e.qZA(),e.TgZ(50,"td"),e._uU(51,"20\xb0C"),e.qZA()()()()()()()()()(),e.TgZ(52,"app-loading",5),e.YNc(53,I,3,2,"ion-row",6),e.YNc(54,J,3,0,"ion-row",6),e.qZA()()()),2&o&&(e.xp6(16),e.hij("",a.model.voltage,"V"),e.xp6(5),e.hij("",e.xi3(22,9,a.model.loadCurrent,".0-3"),"A"),e.xp6(6),e.hij("",e.xi3(28,12,2*a.model.length,".0-3"),"m"),e.xp6(6),e.Oqu(a.model.coreMaterial),e.xp6(7),e.hij("",a.model.voltageDropPercent,"%"),e.xp6(5),e.hij("",e.lcZ(46,15,a.model.voltage),"V"),e.xp6(7),e.Q6J("loading",a.loading),e.xp6(1),e.Q6J("ngIf",a.hasResults),e.xp6(1),e.Q6J("ngIf",!a.hasResults))},dependencies:[d.O5,n.PM,n.FN,n.wI,n.W2,n.jY,n.Nd,_.f,Z.q,A.W,S.N,d.JJ],styles:["[_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]{border-radius:2px;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:80%;margin-left:auto;margin-right:auto}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}[_nghost-%COMP%]   td[_ngcontent-%COMP%]:nth-child(even){text-align:right}@media screen and (min-width: 768px){[_nghost-%COMP%]   .right-border[_ngcontent-%COMP%]{border-right:1px solid #bbbbbb}}"]}),t})();var x=i(2856);function R(t,l){if(1&t&&(e.TgZ(0,"ion-select-option",17),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function Q(t,l){1&t&&(e.TgZ(0,"li"),e._uU(1,"Load current"),e.qZA())}function F(t,l){1&t&&(e.TgZ(0,"li"),e._uU(1,"Length"),e.qZA())}function V(t,l){1&t&&(e.TgZ(0,"li"),e._uU(1,"Voltage"),e.qZA())}function Y(t,l){1&t&&(e.TgZ(0,"li"),e._uU(1," Voltage drop percentage "),e.qZA())}function w(t,l){if(1&t&&(e.TgZ(0,"div",18)(1,"ion-label"),e._uU(2,"Sorry you must supply a valid value for:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,Q,2,0,"li",19),e.YNc(5,F,2,0,"li",19),e.YNc(6,V,2,0,"li",19),e.YNc(7,Y,2,0,"li",19),e.qZA()()),2&t){const o=e.oxw();e.xp6(4),e.Q6J("ngIf",!o.form.controls.loadCurrent.valid),e.xp6(1),e.Q6J("ngIf",!o.form.controls.length.valid),e.xp6(1),e.Q6J("ngIf",!o.form.controls.voltage.valid),e.xp6(1),e.Q6J("ngIf",!o.form.controls.voltageDropPercent.valid)}}function u(){return s.kI.compose([s.kI.required,s.kI.pattern(/^\d*\.?\d*$/),s.kI.min(1e-6)])}let c=class{constructor(l,o){this.fb=l,this.navController=o,this.form=this.fb.group({voltage:[24,u()],voltageDropPercent:[2.5,u()],loadCurrent:[20,u()],length:[15,u()],coreMaterial:["Plain copper"]}),this.coreMaterialData=b.dY,this.voltageDrop=.3}get totalLength(){var l,o,a,r;return`2 x ${null!==(o=null===(l=this.form.value)||void 0===l?void 0:l.length)&&void 0!==o?o:0} =\n      ${2*(null!==(r=null===(a=this.form.value)||void 0===a?void 0:a.length)&&void 0!==r?r:0)}\n    m`}ngOnInit(){this.form.valueChanges.pipe((0,x.t)(this)).subscribe(l=>{this.updateVoltageDrop()}),this.updateVoltageDrop()}search(){this.navController.navigateForward(["/dc-cable-selection/results"],{queryParams:Object.assign({},this.form.value)}).catch(console.error)}updateVoltageDrop(){!this.form.value.voltage||!this.form.value.voltageDropPercent||(this.voltageDrop=this.form.value.voltage*(this.form.value.voltageDropPercent/100))}};c.\u0275fac=function(l){return new(l||c)(e.Y36(s.qu),e.Y36(n.SH))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-dc-cable-selection"]],decls:35,vars:13,consts:[[1,"ion-padding-top","ion-padding-bottom"],[3,"formGroup"],["size","12","size-md","6",1,"extra-padding"],[1,"list-label"],["label","Voltage (V)","type","number","formControlName","voltage",1,"ion-text-right",3,"clearInput"],[1,"full-width"],["label","Volt Drop (%)","type","number","formControlName","voltageDropPercent",1,"ion-text-right",3,"clearInput"],["color","firstflexblue"],[1,"ion-text-right","fake-input","small-width"],["label","Load Current (A)","type","number","formControlName","loadCurrent",1,"ion-text-right",3,"clearInput"],["size","12","size-md","6",1,"extra-padding","lg-top-margin"],["label","Length (m)","type","number","formControlName","length",1,"ion-text-right",3,"clearInput"],[1,"ion-text-right","fake-input","medium-width"],["label","Core Material","label-placement","stacked","formControlName","coreMaterial","interface","popover",1,"full-select"],[3,"value",4,"ngFor","ngForOf"],["class","form-warnings ion-padding",4,"ngIf"],["expand","block","color","firstflexblue",3,"disabled","click"],[3,"value"],[1,"form-warnings","ion-padding"],[4,"ngIf"]],template:function(l,o){1&l&&(e.TgZ(0,"app-page-header"),e._uU(1,"DC Cable Selection"),e.qZA(),e.TgZ(2,"ion-content",0)(3,"form",1)(4,"ion-grid")(5,"ion-row")(6,"ion-col",2)(7,"ion-label",3),e._uU(8,"Details:"),e.qZA(),e.TgZ(9,"ion-item"),e._UZ(10,"ion-input",4),e.qZA(),e.TgZ(11,"ion-item",5),e._UZ(12,"ion-input",6),e.qZA(),e.TgZ(13,"ion-item")(14,"ion-label",7),e._uU(15,"Volt Drop"),e.qZA(),e.TgZ(16,"ion-label",8),e._uU(17),e.ALo(18,"number"),e.qZA()(),e.TgZ(19,"ion-item"),e._UZ(20,"ion-input",9),e.qZA()(),e.TgZ(21,"ion-col",10)(22,"ion-item"),e._UZ(23,"ion-input",11),e.qZA(),e.TgZ(24,"ion-item")(25,"ion-label",7),e._uU(26,"Total Length"),e.qZA(),e.TgZ(27,"ion-label",12),e._uU(28),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-select",13),e.YNc(31,R,2,2,"ion-select-option",14),e.qZA()()()()()(),e.YNc(32,w,8,4,"div",15),e.TgZ(33,"ion-button",16),e.NdJ("click",function(){return o.search()}),e._uU(34," Calculate "),e.qZA()()),2&l&&(e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(5),e.hij("",e.xi3(18,10,o.voltageDrop,".0-2")," V"),e.xp6(3),e.Q6J("clearInput",!0),e.xp6(3),e.Q6J("clearInput",!0),e.xp6(5),e.Oqu(o.totalLength),e.xp6(3),e.Q6J("ngForOf",o.coreMaterialData),e.xp6(1),e.Q6J("ngIf",!o.form.valid),e.xp6(1),e.Q6J("disabled",!o.form.valid))},dependencies:[d.sg,d.O5,s._Y,s.JJ,s.JL,n.YG,n.wI,n.W2,n.jY,n.pK,n.Ie,n.Q$,n.Nd,n.t9,n.n0,n.as,n.QI,s.sg,s.u,Z.q,d.JJ],styles:["[_nghost-%COMP%]   .extra-padding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){padding-bottom:1em}[_nghost-%COMP%]   .form-warnings[_ngcontent-%COMP%]{color:var(--ion-color-danger)}[_nghost-%COMP%]   .form-warnings[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block}"]}),c=(0,h.gn)([(0,x.c)()],c);const y=[{path:"",component:c},{path:"results",component:O}];let N=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(y),p.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,s.u5,n.Pc,s.UX,N,D.CableSelectionModule,T.m]}),t})()}}]);